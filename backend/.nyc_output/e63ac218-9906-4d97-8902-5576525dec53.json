{"/home/adrancarnavale/projects/ebytrTodoList/backend/src/app.ts":{"path":"/home/adrancarnavale/projects/ebytrTodoList/backend/src/app.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":21}},"4":{"start":{"line":7,"column":18},"end":{"line":7,"column":53}},"5":{"start":{"line":8,"column":15},"end":{"line":8,"column":47}},"6":{"start":{"line":9,"column":17},"end":{"line":9,"column":36}},"7":{"start":{"line":10,"column":12},"end":{"line":10,"column":36}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":18}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":34}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":31}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0},"f":{"0":2},"b":{"0":[1,1,1],"1":[0,2],"2":[2,2]},"inputSourceMap":{"version":3,"file":"file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/app.ts","sources":["file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/app.ts"],"names":[],"mappings":";;;;;;AAAA,sDAA8B;AAC9B,gDAAwB;AACxB,qCAAkC;AAElC,MAAM,GAAG,GAAG,IAAA,iBAAO,GAAE,CAAC;AAMb,kBAAG;AAJZ,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,IAAI,EAAE,CAAC,CAAC;AACxB,GAAG,CAAC,GAAG,CAAC,IAAA,cAAI,GAAE,CAAC,CAAC;AAChB,GAAG,CAAC,GAAG,CAAC,eAAM,CAAC,CAAC","sourcesContent":["import express from 'express';\nimport cors from 'cors';\nimport { routes } from './routes';\n\nconst app = express();\n\napp.use(express.json());\napp.use(cors());\napp.use(routes);\n\nexport { app };\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"876988574134ee4ee0bf2c4031b9d69d35b9a87f","contentHash":"1e5bdcefdd9f715854e89bca00832ddb93bf11867b305a3ea8579fc64d3a332d"},"/home/adrancarnavale/projects/ebytrTodoList/backend/src/routes.ts":{"path":"/home/adrancarnavale/projects/ebytrTodoList/backend/src/routes.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":24}},"4":{"start":{"line":7,"column":18},"end":{"line":7,"column":53}},"5":{"start":{"line":8,"column":21},"end":{"line":8,"column":57}},"6":{"start":{"line":9,"column":21},"end":{"line":9,"column":57}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":44}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":53}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":53}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/routes.ts","sources":["file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/routes.ts"],"names":[],"mappings":";;;;;;AAAA,sDAA8B;AAC9B,0DAAuD;AACvD,0DAAuD;AAE1C,QAAA,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEvC,cAAM,CAAC,GAAG,CAAC,OAAO,EAAE,uBAAU,CAAC,CAAC;AAChC,cAAM,CAAC,GAAG,CAAC,OAAO,EAAE,uBAAU,CAAC,CAAC","sourcesContent":["import express from 'express';\nimport { userRoutes } from './modules/User/userRoutes';\nimport { taskRoutes } from './modules/Task/taskRoutes';\n\nexport const routes = express.Router();\n\nroutes.use('/user', userRoutes);\nroutes.use('/task', taskRoutes);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"26fc362b492fc2f23a894c4f5543994c617f58e4","contentHash":"659a3ab7c749adf9528bd6c34dc8dc032d5dacac0f5823467b9e41df1a49fef6"},"/home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/userRoutes.ts":{"path":"/home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/userRoutes.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"4":{"start":{"line":7,"column":18},"end":{"line":7,"column":53}},"5":{"start":{"line":8,"column":30},"end":{"line":8,"column":71}},"6":{"start":{"line":9,"column":27},"end":{"line":9,"column":62}},"7":{"start":{"line":10,"column":29},"end":{"line":10,"column":90}},"8":{"start":{"line":11,"column":26},"end":{"line":11,"column":81}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":48}},"10":{"start":{"line":13,"column":0},"end":{"line":15,"column":136}},"11":{"start":{"line":14,"column":93},"end":{"line":14,"column":149}},"12":{"start":{"line":15,"column":84},"end":{"line":15,"column":134}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":64},"end":{"line":14,"column":65}},"loc":{"start":{"line":14,"column":93},"end":{"line":14,"column":149}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":55},"end":{"line":15,"column":56}},"loc":{"start":{"line":15,"column":84},"end":{"line":15,"column":134}},"line":15}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0},"f":{"0":1,"1":0,"2":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/userRoutes.ts","sources":["file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/userRoutes.ts"],"names":[],"mappings":";;;;;;AAAA,sDAA8B;AAC9B,wEAA0D;AAC1D,+DAAiD;AACjD,2FAAwF;AACxF,kFAA+E;AAElE,QAAA,UAAU,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAE3C,kBAAU;KACP,IAAI,CAAC,WAAW,EAAE,uCAAkB,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,EAAE,CACjE,8BAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CACnC;KACA,IAAI,CAAC,QAAQ,EAAE,iCAAe,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,EAAE,CAC3D,wBAAK,CAAC,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAChC,CAAA","sourcesContent":["import express from 'express';\nimport { register } from './Register/RegisterIntegration';\nimport { login } from './Login/LoginIntegration';\nimport { registerValidation } from '../../middlewares/User/Register/registerValidation';\nimport { loginValidation } from '../../middlewares/User/Login/loginValidation';\n\nexport const userRoutes = express.Router();\n\nuserRoutes\n  .post('/register', registerValidation, async (request, response) =>\n    register.handle(request, response)\n  )\n  .post('/login', loginValidation, async (request, response) =>\n    login.handle(request, response)\n  )"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"af862e5c460e6ee34753d9f853f3dfdc01257c9b","contentHash":"c5bd3967d1dd8f30ec5dd6634765ec1933f726ce335c89e000991035a6a715bd"},"/home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Register/RegisterIntegration.ts":{"path":"/home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Register/RegisterIntegration.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}},"2":{"start":{"line":4,"column":33},"end":{"line":4,"column":68}},"3":{"start":{"line":5,"column":26},"end":{"line":5,"column":54}},"4":{"start":{"line":6,"column":29},"end":{"line":6,"column":60}},"5":{"start":{"line":7,"column":12},"end":{"line":7,"column":65}},"6":{"start":{"line":8,"column":16},"end":{"line":8,"column":58}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":72}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Register/RegisterIntegration.ts","sources":["file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Register/RegisterIntegration.ts"],"names":[],"mappings":";;;AAAA,qEAAkE;AAClE,uDAAoD;AACpD,6DAA0D;AAE1D,MAAM,GAAG,GAAG,IAAI,+CAAsB,EAAE,CAAC;AACzC,MAAM,OAAO,GAAG,IAAI,iCAAe,CAAC,GAAG,CAAC,CAAC;AAE5B,QAAA,QAAQ,GAAG,IAAI,uCAAkB,CAAC,OAAO,CAAC,CAAC","sourcesContent":["import { RegisterImplementation } from './RegisterImplementation';\nimport { RegisterUsecase } from './RegisterUsecase';\nimport { RegisterController } from './RegisterController';\n\nconst imp = new RegisterImplementation();\nconst useCase = new RegisterUsecase(imp);\n\nexport const register = new RegisterController(useCase);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0e953cb6521aa41886f1446b816c86f9b6648702","contentHash":"901707d500f4609f6acb160aad0d540aa1617e9394bf4ece834921a62a786ee5"},"/home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Register/RegisterImplementation.ts":{"path":"/home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Register/RegisterImplementation.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":42}},"5":{"start":{"line":8,"column":22},"end":{"line":8,"column":59}},"6":{"start":{"line":9,"column":19},"end":{"line":9,"column":55}},"7":{"start":{"line":10,"column":28},"end":{"line":10,"column":56}},"8":{"start":{"line":11,"column":24},"end":{"line":11,"column":69}},"9":{"start":{"line":14,"column":57},"end":{"line":14,"column":61}},"10":{"start":{"line":15,"column":23},"end":{"line":15,"column":50}},"11":{"start":{"line":16,"column":26},"end":{"line":16,"column":63}},"12":{"start":{"line":17,"column":8},"end":{"line":33,"column":11}},"13":{"start":{"line":27,"column":12},"end":{"line":28,"column":117}},"14":{"start":{"line":28,"column":16},"end":{"line":28,"column":117}},"15":{"start":{"line":29,"column":12},"end":{"line":29,"column":156}},"16":{"start":{"line":32,"column":12},"end":{"line":32,"column":39}},"17":{"start":{"line":34,"column":31},"end":{"line":34,"column":71}},"18":{"start":{"line":35,"column":8},"end":{"line":35,"column":30}},"19":{"start":{"line":38,"column":0},"end":{"line":38,"column":56}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":25},"end":{"line":36,"column":5}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":26,"column":19},"end":{"line":26,"column":20}},"loc":{"start":{"line":26,"column":36},"end":{"line":30,"column":9}},"line":26},"3":{"name":"(anonymous_3)","decl":{"start":{"line":31,"column":21},"end":{"line":31,"column":22}},"loc":{"start":{"line":31,"column":33},"end":{"line":33,"column":9}},"line":31}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":27,"column":12},"end":{"line":28,"column":117}},"type":"if","locations":[{"start":{"line":27,"column":12},"end":{"line":28,"column":117}},{"start":{"line":27,"column":12},"end":{"line":28,"column":117}}],"line":27}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1},"f":{"0":1,"1":0,"2":0,"3":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1],"3":[0,0]},"inputSourceMap":{"version":3,"file":"file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Register/RegisterImplementation.ts","sources":["file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Register/RegisterImplementation.ts"],"names":[],"mappings":";;;;;;AAEA,2CAA8C;AAC9C,4DAAyD;AACzD,wDAA8B;AAC9B,yDAAgD;AAChD,sEAAmE;AAEnE,MAAa,sBAAsB;IACjC,KAAK,CAAC,QAAQ,CAAC,IAAW;QACxB,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QAEtD,MAAM,MAAM,GAAG,IAAI,qBAAY,EAAE,CAAC;QAElC,IAAI,WAAW,GAAG,kBAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAE5C,MAAM,MAAM,CAAC,IAAI;aACd,MAAM,CAAC;YACN,IAAI,EAAE;gBACJ,SAAS;gBACT,QAAQ;gBACR,KAAK;gBACL,QAAQ,EAAE,WAAW;aACtB;SACF,CAAC;aACD,KAAK,CAAC,CAAC,EAAE,OAAO,EAAE,EAAE,EAAE;YACrB,IAAI,OAAO,CAAC,QAAQ,CAAC,iBAAiB,CAAC;gBACrC,MAAM,IAAI,yBAAW,CAAC,+BAAW,CAAC,QAAQ,EAAE,qBAAqB,CAAC,CAAC;YAErE,MAAM,IAAI,yBAAW,CACnB,+BAAW,CAAC,qBAAqB,EACjC,mDAAmD,CACpD,CAAC;QACJ,CAAC,CAAC;aACD,OAAO,CAAC,KAAK,IAAI,EAAE;YAClB,MAAM,MAAM,CAAC,WAAW,EAAE,CAAC;QAC7B,CAAC,CAAC,CAAC;QAEL,MAAM,cAAc,GAAG,IAAA,6BAAa,EAAC,IAAI,CAAC,CAAC;QAE3C,OAAO,cAAc,CAAC;IACxB,CAAC;CACF;AAlCD,wDAkCC","sourcesContent":["import { IUser } from '../../../entities/IUser';\nimport { RegisterRepository } from './RegisterRepository';\nimport { PrismaClient } from '@prisma/client';\nimport { CustomError } from '../../../utils/CustomError';\nimport bcrypt from 'bcryptjs';\nimport { StatusCodes } from 'http-status-codes';\nimport { generateToken } from '../../../utils/token/generateToken';\n\nexport class RegisterImplementation implements RegisterRepository {\n  async register(user: IUser): Promise<string> {\n    const { firstName, lastName, email, password } = user;\n\n    const prisma = new PrismaClient();\n\n    var cryptedPass = bcrypt.hashSync(password);\n\n    await prisma.user\n      .create({\n        data: {\n          firstName,\n          lastName,\n          email,\n          password: cryptedPass,\n        },\n      })\n      .catch(({ message }) => {\n        if (message.includes('users_email_key'))\n          throw new CustomError(StatusCodes.CONFLICT, 'User already exists');\n\n        throw new CustomError(\n          StatusCodes.INTERNAL_SERVER_ERROR,\n          'Internal server error, UserRegisterImplementation'\n        );\n      })\n      .finally(async () => {\n        await prisma.$disconnect();\n      });\n\n    const generatedToken = generateToken(user);\n\n    return generatedToken;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5167939fafb159afe121efd8dfcf82bbf495877e","contentHash":"e81a9f0967e00435e3834ae97ad78a699bc2956b88ae26ef0c8ce2b92937f095"},"/home/adrancarnavale/projects/ebytrTodoList/backend/src/utils/CustomError.ts":{"path":"/home/adrancarnavale/projects/ebytrTodoList/backend/src/utils/CustomError.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":16}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":29}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":31}},"5":{"start":{"line":11,"column":0},"end":{"line":11,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":33},"end":{"line":9,"column":5}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/utils/CustomError.ts","sources":["file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/utils/CustomError.ts"],"names":[],"mappings":";;;AAAA,MAAa,WAAY,SAAQ,KAAK;IAIpC,YAAY,MAAc,EAAE,OAAe;QACzC,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IACzB,CAAC;CACF;AATD,kCASC","sourcesContent":["export class CustomError extends Error {\n  public status: number;\n  public message: string;\n\n  constructor(status: number, message: string) {\n    super();\n    this.status = status;\n    this.message = message;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b4b12782e23a4c526fd4232c22dcec969e195c0d","contentHash":"e8c8c3dfdb53f6e456e7f086e3f9a0fc4e84ebc1e18830612968a10853daac73"},"/home/adrancarnavale/projects/ebytrTodoList/backend/src/utils/token/generateToken.ts":{"path":"/home/adrancarnavale/projects/ebytrTodoList/backend/src/utils/token/generateToken.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":31}},"4":{"start":{"line":7,"column":23},"end":{"line":7,"column":63}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":25}},"6":{"start":{"line":9,"column":23},"end":{"line":9,"column":34}},"7":{"start":{"line":11,"column":18},"end":{"line":11,"column":90}},"8":{"start":{"line":12,"column":4},"end":{"line":12,"column":17}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"generateToken","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":22}},"loc":{"start":{"line":10,"column":29},"end":{"line":13,"column":1}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":1},"f":{"0":1,"1":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/utils/token/generateToken.ts","sources":["file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/utils/token/generateToken.ts"],"names":[],"mappings":";;;;;;AAAA,gEAA+B;AAC/B,yBAAuB;AAGvB,MAAM,EAAE,UAAU,EAAE,GAAG,OAAO,CAAC,GAAG,CAAC;AAEnC,SAAgB,aAAa,CAAC,IAAW;IACvC,MAAM,KAAK,GAAG,sBAAG,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,EAAE,UAAoB,EAAE,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;IAE9E,OAAO,KAAK,CAAC;AACf,CAAC;AAJD,sCAIC","sourcesContent":["import jwt from 'jsonwebtoken';\nimport 'dotenv/config';\nimport { IUser } from '../../entities/IUser';\n\nconst { JWT_SECRET } = process.env;\n\nexport function generateToken(data: IUser): string {\n  const token = jwt.sign({ data }, JWT_SECRET as string, { expiresIn: '365d' });\n\n  return token;\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2f08f8a90a2c0da0e5141b0eb699278b813cd747","contentHash":"2d411e023817d8a07a714bea6a9777f597bb7b2e7e8c2bbc066a51584d746bf6"},"/home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Register/RegisterUsecase.ts":{"path":"/home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Register/RegisterUsecase.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":45}},"3":{"start":{"line":9,"column":24},"end":{"line":9,"column":64}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":23}},"5":{"start":{"line":13,"column":0},"end":{"line":13,"column":42}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":32},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":24},"end":{"line":11,"column":5}},"line":8}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":1},"f":{"0":1,"1":0},"b":{},"inputSourceMap":{"version":3,"file":"file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Register/RegisterUsecase.ts","sources":["file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Register/RegisterUsecase.ts"],"names":[],"mappings":";;;AAGA,MAAa,eAAe;IAC1B,YAAoB,cAAkC;QAAlC,mBAAc,GAAd,cAAc,CAAoB;IAAG,CAAC;IAE1D,KAAK,CAAC,OAAO,CAAC,IAAW;QACvB,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAEzD,OAAO,OAAO,CAAC;IACjB,CAAC;CACF;AARD,0CAQC","sourcesContent":["import { IUser } from '../../../entities/IUser';\nimport { RegisterRepository } from './RegisterRepository';\n\nexport class RegisterUsecase {\n  constructor(private implementation: RegisterRepository) {}\n\n  async execute(user: IUser): Promise<string> {\n    const message = await this.implementation.register(user);\n\n    return message;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2db8f601a5041db6c8f804e146536deaedf7aabd","contentHash":"4f760f863c519b6c62743f5aee21af975136fd9f71a57ff4dae4576dc1bc3028"},"/home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Register/RegisterController.ts":{"path":"/home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Register/RegisterController.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":28},"end":{"line":4,"column":56}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":31}},"4":{"start":{"line":10,"column":8},"end":{"line":19,"column":9}},"5":{"start":{"line":11,"column":35},"end":{"line":11,"column":42}},"6":{"start":{"line":12,"column":26},"end":{"line":12,"column":58}},"7":{"start":{"line":13,"column":12},"end":{"line":13,"column":92}},"8":{"start":{"line":16,"column":12},"end":{"line":18,"column":50}},"9":{"start":{"line":22,"column":0},"end":{"line":22,"column":48}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":25},"end":{"line":8,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":36},"end":{"line":20,"column":5}},"line":9}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1},"f":{"0":1,"1":0},"b":{},"inputSourceMap":{"version":3,"file":"file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Register/RegisterController.ts","sources":["file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Register/RegisterController.ts"],"names":[],"mappings":";;;AACA,yDAAgD;AAIhD,MAAa,kBAAkB;IAC7B,YAAoB,OAAwB;QAAxB,YAAO,GAAP,OAAO,CAAiB;IAAG,CAAC;IAEhD,KAAK,CAAC,MAAM,CAAC,OAAgB,EAAE,QAAkB;QAC/C,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,OAAO,CAAC;YAE/B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAE/C,OAAO,QAAQ,CAAC,MAAM,CAAC,+BAAW,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;SAC7D;QAAC,OAAO,KAAK,EAAE;YACd,OAAO,QAAQ;iBACZ,MAAM,CAAE,KAAqB,CAAC,MAAM,CAAC;iBACrC,IAAI,CAAC,EAAE,OAAO,EAAG,KAAqB,CAAC,OAAO,EAAE,CAAC,CAAC;SACtD;IACH,CAAC;CACF;AAhBD,gDAgBC","sourcesContent":["import { Request, Response } from 'express';\nimport { StatusCodes } from 'http-status-codes';\nimport { CustomError } from '../../../utils/CustomError';\nimport { RegisterUsecase } from './RegisterUsecase';\n\nexport class RegisterController {\n  constructor(private useCase: RegisterUsecase) {}\n\n  async handle(request: Request, response: Response) {\n    try {\n      const { body: user } = request;\n\n      const token = await this.useCase.execute(user);\n\n      return response.status(StatusCodes.CREATED).json({ token });\n    } catch (error) {\n      return response\n        .status((error as CustomError).status)\n        .json({ message: (error as CustomError).message });\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"243feb56559b3e1141a50fbd59f17385d4055260","contentHash":"8743ca656ca40e1be3599858496270d7dade78e96e248fb632877672e40d7db5"},"/home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Login/LoginIntegration.ts":{"path":"/home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Login/LoginIntegration.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":23}},"2":{"start":{"line":4,"column":30},"end":{"line":4,"column":62}},"3":{"start":{"line":5,"column":23},"end":{"line":5,"column":48}},"4":{"start":{"line":6,"column":26},"end":{"line":6,"column":54}},"5":{"start":{"line":7,"column":12},"end":{"line":7,"column":59}},"6":{"start":{"line":8,"column":16},"end":{"line":8,"column":52}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":63}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Login/LoginIntegration.ts","sources":["file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Login/LoginIntegration.ts"],"names":[],"mappings":";;;AAAA,+DAA4D;AAC5D,iDAA8C;AAC9C,uDAAoD;AAEpD,MAAM,GAAG,GAAG,IAAI,yCAAmB,EAAE,CAAC;AACtC,MAAM,OAAO,GAAG,IAAI,2BAAY,CAAC,GAAG,CAAC,CAAC;AAEzB,QAAA,KAAK,GAAG,IAAI,iCAAe,CAAC,OAAO,CAAC,CAAC","sourcesContent":["import { LoginImplementation } from './LoginImplementation';\nimport { LoginUseCase } from './LoginUseCase';\nimport { LoginController } from './LoginController';\n\nconst imp = new LoginImplementation();\nconst useCase = new LoginUseCase(imp);\n\nexport const login = new LoginController(useCase);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"19bd0d14da21655dc61eed66f9be33e1f63e72f1","contentHash":"0979884a00b9a4f0c2afda7ebdb31506d25fb65e372f085e01a4e090d133b1a4"},"/home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Login/LoginImplementation.ts":{"path":"/home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Login/LoginImplementation.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":37}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":42}},"5":{"start":{"line":8,"column":28},"end":{"line":8,"column":56}},"6":{"start":{"line":9,"column":22},"end":{"line":9,"column":59}},"7":{"start":{"line":10,"column":19},"end":{"line":10,"column":55}},"8":{"start":{"line":11,"column":24},"end":{"line":11,"column":69}},"9":{"start":{"line":12,"column":15},"end":{"line":12,"column":42}},"10":{"start":{"line":15,"column":49},"end":{"line":15,"column":58}},"11":{"start":{"line":16,"column":26},"end":{"line":20,"column":10}},"12":{"start":{"line":21,"column":8},"end":{"line":22,"column":109}},"13":{"start":{"line":22,"column":12},"end":{"line":22,"column":109}},"14":{"start":{"line":23,"column":29},"end":{"line":23,"column":38}},"15":{"start":{"line":24,"column":24},"end":{"line":24,"column":77}},"16":{"start":{"line":25,"column":8},"end":{"line":26,"column":122}},"17":{"start":{"line":26,"column":12},"end":{"line":26,"column":122}},"18":{"start":{"line":27,"column":22},"end":{"line":27,"column":67}},"19":{"start":{"line":28,"column":19},"end":{"line":28,"column":31}},"20":{"start":{"line":29,"column":34},"end":{"line":32,"column":9}},"21":{"start":{"line":33,"column":8},"end":{"line":33,"column":33}},"22":{"start":{"line":36,"column":0},"end":{"line":36,"column":50}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":27},"end":{"line":34,"column":5}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":21,"column":8},"end":{"line":22,"column":109}},"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":22,"column":109}},{"start":{"line":21,"column":8},"end":{"line":22,"column":109}}],"line":21},"4":{"loc":{"start":{"line":25,"column":8},"end":{"line":26,"column":122}},"type":"if","locations":[{"start":{"line":25,"column":8},"end":{"line":26,"column":122}},{"start":{"line":25,"column":8},"end":{"line":26,"column":122}}],"line":25}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1},"f":{"0":1,"1":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"file":"file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Login/LoginImplementation.ts","sources":["file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Login/LoginImplementation.ts"],"names":[],"mappings":";;;;;;AAAA,2CAA8C;AAC9C,yDAAgD;AAEhD,4DAAyD;AAEzD,wDAA8B;AAC9B,sEAAmE;AAGnE,MAAM,MAAM,GAAG,IAAI,qBAAY,EAAE,CAAC;AAElC,MAAa,mBAAmB;IAC9B,KAAK,CAAC,KAAK,CAAC,SAAgB;QAC1B,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,WAAW,EAAE,GAAG,SAAS,CAAC;QAEnD,MAAM,SAAS,GAAG,MAAM,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;YAC7C,KAAK,EAAE;gBACL,KAAK;aACN;SACF,CAAC,CAAC;QAEH,IAAI,CAAC,SAAS;YACZ,MAAM,IAAI,yBAAW,CAAC,+BAAW,CAAC,SAAS,EAAE,gBAAgB,CAAC,CAAC;QAEjE,MAAM,EAAE,QAAQ,EAAE,GAAG,SAAS,CAAC;QAE/B,MAAM,OAAO,GAAG,kBAAM,CAAC,WAAW,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;QAE1D,IAAI,CAAC,OAAO;YACV,MAAM,IAAI,yBAAW,CACnB,+BAAW,CAAC,WAAW,EACvB,2BAA2B,CAC5B,CAAC;QAEJ,MAAM,KAAK,GAAG,IAAA,6BAAa,EAAC,SAAS,CAAC,CAAC;QACvC,MAAM,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;QAExB,MAAM,iBAAiB,GAAG;YACxB,KAAK;YACL,EAAE;SACH,CAAC;QAEF,OAAO,iBAAiB,CAAC;IAC3B,CAAC;CACF;AAjCD,kDAiCC","sourcesContent":["import { PrismaClient } from '@prisma/client';\nimport { StatusCodes } from 'http-status-codes';\nimport { IUser } from '../../../entities/IUser';\nimport { CustomError } from '../../../utils/CustomError';\nimport { LoginRepository } from './LoginRepository';\nimport bcrypt from 'bcryptjs';\nimport { generateToken } from '../../../utils/token/generateToken';\nimport { UserLoginResponse } from '../../../DTOs/UserLoginResponseDTO';\n\nconst prisma = new PrismaClient();\n\nexport class LoginImplementation implements LoginRepository {\n  async login(userInfos: IUser): Promise<UserLoginResponse> {\n    const { email, password: passRequest } = userInfos;\n\n    const foundUser = await prisma.user.findUnique({\n      where: {\n        email,\n      },\n    });\n\n    if (!foundUser)\n      throw new CustomError(StatusCodes.NOT_FOUND, 'User not found');\n\n    const { password } = foundUser;\n\n    const isValid = bcrypt.compareSync(passRequest, password);\n\n    if (!isValid)\n      throw new CustomError(\n        StatusCodes.BAD_REQUEST,\n        'invalid email or password'\n      );\n\n    const token = generateToken(userInfos);\n    const id = foundUser.id;\n\n    const userLoginResponse = {\n      token,\n      id,\n    };\n\n    return userLoginResponse;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"19fc632698b1d3c326a3f69683b20765614c0f33","contentHash":"8f2ef31ada11131ead37dd3e1aa37bdc81c7b1784acd354032806224b76dd818"},"/home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Login/LoginUseCase.ts":{"path":"/home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Login/LoginUseCase.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":45}},"3":{"start":{"line":9,"column":34},"end":{"line":9,"column":76}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":33}},"5":{"start":{"line":13,"column":0},"end":{"line":13,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":32},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":29},"end":{"line":11,"column":5}},"line":8}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":1},"f":{"0":1,"1":0},"b":{},"inputSourceMap":{"version":3,"file":"file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Login/LoginUseCase.ts","sources":["file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Login/LoginUseCase.ts"],"names":[],"mappings":";;;AAIA,MAAa,YAAY;IACvB,YAAoB,cAA+B;QAA/B,mBAAc,GAAd,cAAc,CAAiB;IAAG,CAAC;IAEvD,KAAK,CAAC,OAAO,CAAC,SAAgB;QAC5B,MAAM,iBAAiB,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QAErE,OAAO,iBAAiB,CAAC;IAC3B,CAAC;CACF;AARD,oCAQC","sourcesContent":["import { UserLoginResponse } from '../../../DTOs/UserLoginResponseDTO';\nimport { IUser } from '../../../entities/IUser';\nimport { LoginRepository } from './LoginRepository';\n\nexport class LoginUseCase {\n  constructor(private implementation: LoginRepository) {}\n\n  async execute(userInfos: IUser): Promise<UserLoginResponse> {\n    const userLoginResponse = await this.implementation.login(userInfos);\n\n    return userLoginResponse;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ad2b25b5de119e090da311d2daf188ae19ec09da","contentHash":"b0b222896efa77d75b4a7aa4e2eba8fbc400fed3335343c9206457fbe7ee0b58"},"/home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Login/LoginController.ts":{"path":"/home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Login/LoginController.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"2":{"start":{"line":4,"column":28},"end":{"line":4,"column":56}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":31}},"4":{"start":{"line":10,"column":8},"end":{"line":19,"column":9}},"5":{"start":{"line":11,"column":40},"end":{"line":11,"column":47}},"6":{"start":{"line":12,"column":38},"end":{"line":12,"column":75}},"7":{"start":{"line":13,"column":12},"end":{"line":13,"column":95}},"8":{"start":{"line":16,"column":12},"end":{"line":18,"column":50}},"9":{"start":{"line":22,"column":0},"end":{"line":22,"column":42}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":25},"end":{"line":8,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":36},"end":{"line":20,"column":5}},"line":9}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1},"f":{"0":1,"1":0},"b":{},"inputSourceMap":{"version":3,"file":"file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Login/LoginController.ts","sources":["file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/User/Login/LoginController.ts"],"names":[],"mappings":";;;AACA,yDAAgD;AAIhD,MAAa,eAAe;IAC1B,YAAoB,OAAqB;QAArB,YAAO,GAAP,OAAO,CAAc;IAAG,CAAC;IAE7C,KAAK,CAAC,MAAM,CAAC,OAAgB,EAAE,QAAkB;QAC/C,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,OAAO,CAAC;YAEpC,MAAM,iBAAiB,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;YAEhE,OAAO,QAAQ,CAAC,MAAM,CAAC,+BAAW,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;SAChE;QAAC,OAAO,KAAK,EAAE;YACd,OAAO,QAAQ;iBACZ,MAAM,CAAE,KAAqB,CAAC,MAAM,CAAC;iBACrC,IAAI,CAAC,EAAE,OAAO,EAAG,KAAqB,CAAC,OAAO,EAAE,CAAC,CAAC;SACtD;IACH,CAAC;CACF;AAhBD,0CAgBC","sourcesContent":["import { Request, Response } from 'express';\nimport { StatusCodes } from 'http-status-codes';\nimport { CustomError } from '../../../utils/CustomError';\nimport { LoginUseCase } from './LoginUseCase';\n\nexport class LoginController {\n  constructor(private useCase: LoginUseCase) {}\n\n  async handle(request: Request, response: Response) {\n    try {      \n      const { body: userInfos } = request;\n\n      const userLoginResponse = await this.useCase.execute(userInfos);\n\n      return response.status(StatusCodes.OK).json(userLoginResponse);\n    } catch (error) {\n      return response\n        .status((error as CustomError).status)\n        .json({ message: (error as CustomError).message });\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b79f15f3f04ee97ab41b8627d7628a2224e1407a","contentHash":"5299eac323b4a224ab19dac414303dff9106328d985993d615b555fd031ec487"},"/home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/User/Register/registerValidation.ts":{"path":"/home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/User/Register/registerValidation.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":28},"end":{"line":4,"column":56}},"3":{"start":{"line":5,"column":25},"end":{"line":5,"column":52}},"4":{"start":{"line":7,"column":27},"end":{"line":7,"column":34}},"5":{"start":{"line":8,"column":22},"end":{"line":8,"column":68}},"6":{"start":{"line":9,"column":4},"end":{"line":10,"column":22}},"7":{"start":{"line":10,"column":8},"end":{"line":10,"column":22}},"8":{"start":{"line":11,"column":4},"end":{"line":13,"column":42}},"9":{"start":{"line":15,"column":0},"end":{"line":15,"column":48}}},"fnMap":{"0":{"name":"registerValidation","decl":{"start":{"line":6,"column":9},"end":{"line":6,"column":27}},"loc":{"start":{"line":6,"column":53},"end":{"line":14,"column":1}},"line":6}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":4},"end":{"line":10,"column":22}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":10,"column":22}},{"start":{"line":9,"column":4},"end":{"line":10,"column":22}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1},"f":{"0":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/User/Register/registerValidation.ts","sources":["file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/User/Register/registerValidation.ts"],"names":[],"mappings":";;;AACA,yDAAgD;AAChD,qDAAkD;AAElD,SAAgB,kBAAkB,CAChC,OAAgB,EAChB,QAAkB,EAClB,IAAkB;IAElB,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,OAAO,CAAC;IAE/B,MAAM,EAAE,KAAK,EAAE,GAAG,+BAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAEhD,IAAI,CAAC,KAAK;QAAE,OAAO,IAAI,EAAE,CAAC;IAE1B,OAAO,QAAQ;SACZ,MAAM,CAAC,+BAAW,CAAC,WAAW,CAAC;SAC/B,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;AACtC,CAAC;AAdD,gDAcC","sourcesContent":["import { NextFunction, Request, response, Response } from 'express';\nimport { StatusCodes } from 'http-status-codes';\nimport { registerSchema } from './registerSchema';\n\nexport function registerValidation(\n  request: Request,\n  response: Response,\n  next: NextFunction\n) {\n  const { body: user } = request;\n\n  const { error } = registerSchema.validate(user);\n\n  if (!error) return next();\n\n  return response\n    .status(StatusCodes.BAD_REQUEST)\n    .json({ message: error.message });\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"43ad4e948a392341e6f6eb99f331ad4d71fa04ed","contentHash":"42c6bde4affda0ece8d64b07a265e640e187dc7b0adbd75bed8628af94b23fe0"},"/home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/User/Register/registerSchema.ts":{"path":"/home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/User/Register/registerSchema.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":32}},"4":{"start":{"line":7,"column":14},"end":{"line":7,"column":45}},"5":{"start":{"line":9,"column":14},"end":{"line":9,"column":62}},"6":{"start":{"line":10,"column":0},"end":{"line":38,"column":3}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/User/Register/registerSchema.ts","sources":["file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/User/Register/registerSchema.ts"],"names":[],"mappings":";;;;;;AAAA,8CAAsB;AAEtB,gFAAgF;AAChF,MAAM,KAAK,GAAG,gDAAgD,CAAC;AAElD,QAAA,cAAc,GAAG,aAAG,CAAC,MAAM,CAAC;IACvC,SAAS,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC;QACzD,YAAY,EAAE,mDAAmD;QACjE,YAAY,EAAE,qDAAqD;QACnE,cAAc,EAAE,mCAAmC;QACnD,cAAc,EAAE,mCAAmC;KACpD,CAAC;IACF,QAAQ,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC;QACxD,YAAY,EAAE,kDAAkD;QAChE,YAAY,EAAE,oDAAoD;QAClE,cAAc,EAAE,kCAAkC;QAClD,cAAc,EAAE,kCAAkC;KACnD,CAAC;IACF,KAAK,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC;QAC9C,cAAc,EAAE,oCAAoC;QACpD,cAAc,EAAE,8BAA8B;QAC9C,cAAc,EAAE,8BAA8B;KAC/C,CAAC;IACF,QAAQ,EAAE,aAAG,CAAC,MAAM,EAAE;SACnB,OAAO,CAAC,KAAK,EAAE;QACd,IAAI,EAAE,UAAU;KACjB,CAAC;SACD,QAAQ,EAAE;SACV,QAAQ,CAAC;QACR,qBAAqB,EACnB,yFAAyF;QAC3F,cAAc,EAAE,iCAAiC;QACjD,cAAc,EAAE,iCAAiC;KAClD,CAAC;CACL,CAAC,CAAC","sourcesContent":["import Joi from 'joi';\n\n// Min 8 characters, one lower case letter, one uppercase letter, and one number\nconst REGEX = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$/;\n\nexport const registerSchema = Joi.object({\n  firstName: Joi.string().min(2).max(30).required().messages({\n    'string.min': 'Your first name must have at least two characters',\n    'string.max': 'Your first name must have at least three characters',\n    'any.required': 'Your first name must not be empty',\n    'string.empty': 'Your first name must not be empty',\n  }),\n  lastName: Joi.string().min(2).max(30).required().messages({\n    'string.min': 'Your last name must have at least two characters',\n    'string.max': 'Your last name must have at least three characters',\n    'any.required': 'Your last name must not be empty',\n    'string.empty': 'Your last name must not be empty',\n  }),\n  email: Joi.string().email().required().messages({\n    'string.email': 'Please enter a valid email address',\n    'any.required': 'Your email must not be empty',\n    'string.empty': 'Your email must not be empty',\n  }),\n  password: Joi.string()\n    .pattern(REGEX, {\n      name: 'password',\n    })\n    .required()\n    .messages({\n      'string.pattern.name':\n        'Your password must have at least eight characters, one uppercase letter, and one number',\n      'any.required': 'Your password must not be empty',\n      'string.empty': 'Your password must not be empty',\n    }),\n});\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"533a0b5c90fb1d1f8b240ffddfe57d7935f94fe9","contentHash":"e7e507e55ee399b678e601b623df667e4abc71d22b62fca5255fd7da8b2ca88b"},"/home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/User/Login/loginValidation.ts":{"path":"/home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/User/Login/loginValidation.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"2":{"start":{"line":4,"column":28},"end":{"line":4,"column":56}},"3":{"start":{"line":5,"column":22},"end":{"line":5,"column":46}},"4":{"start":{"line":7,"column":27},"end":{"line":7,"column":34}},"5":{"start":{"line":8,"column":22},"end":{"line":8,"column":62}},"6":{"start":{"line":9,"column":4},"end":{"line":10,"column":22}},"7":{"start":{"line":10,"column":8},"end":{"line":10,"column":22}},"8":{"start":{"line":11,"column":4},"end":{"line":13,"column":42}},"9":{"start":{"line":15,"column":0},"end":{"line":15,"column":42}}},"fnMap":{"0":{"name":"loginValidation","decl":{"start":{"line":6,"column":9},"end":{"line":6,"column":24}},"loc":{"start":{"line":6,"column":50},"end":{"line":14,"column":1}},"line":6}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":4},"end":{"line":10,"column":22}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":10,"column":22}},{"start":{"line":9,"column":4},"end":{"line":10,"column":22}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1},"f":{"0":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/User/Login/loginValidation.ts","sources":["file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/User/Login/loginValidation.ts"],"names":[],"mappings":";;;AACA,yDAAgD;AAChD,+CAA4C;AAE5C,SAAgB,eAAe,CAC7B,OAAgB,EAChB,QAAkB,EAClB,IAAkB;IAElB,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,OAAO,CAAC;IAE/B,MAAM,EAAE,KAAK,EAAE,GAAG,yBAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAE7C,IAAI,CAAC,KAAK;QAAE,OAAO,IAAI,EAAE,CAAC;IAE1B,OAAO,QAAQ;SACZ,MAAM,CAAC,+BAAW,CAAC,WAAW,CAAC;SAC/B,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;AACtC,CAAC;AAdD,0CAcC","sourcesContent":["import { NextFunction, Request, response, Response } from 'express';\nimport { StatusCodes } from 'http-status-codes';\nimport { loginSchema } from './loginSchema';\n\nexport function loginValidation(\n  request: Request,\n  response: Response,\n  next: NextFunction\n) {\n  const { body: user } = request;\n\n  const { error } = loginSchema.validate(user);\n\n  if (!error) return next();\n\n  return response\n    .status(StatusCodes.BAD_REQUEST)\n    .json({ message: error.message });\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7bd9693fbaecd386c8109a40124a6241c9080e52","contentHash":"439f096277ce9d04935e17c0e3bbb3a56de5a0c4f2801899ed098c3a17bf5ce6"},"/home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/User/Login/loginSchema.ts":{"path":"/home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/User/Login/loginSchema.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":29}},"4":{"start":{"line":7,"column":14},"end":{"line":7,"column":45}},"5":{"start":{"line":9,"column":14},"end":{"line":9,"column":62}},"6":{"start":{"line":10,"column":0},"end":{"line":26,"column":3}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/User/Login/loginSchema.ts","sources":["file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/User/Login/loginSchema.ts"],"names":[],"mappings":";;;;;;AAAA,8CAAsB;AAEtB,gFAAgF;AAChF,MAAM,KAAK,GAAG,gDAAgD,CAAC;AAElD,QAAA,WAAW,GAAG,aAAG,CAAC,MAAM,CAAC;IACpC,KAAK,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC;QAC9C,cAAc,EAAE,oCAAoC;QACpD,cAAc,EAAE,8BAA8B;QAC9C,cAAc,EAAE,8BAA8B;KAC/C,CAAC;IACF,QAAQ,EAAE,aAAG,CAAC,MAAM,EAAE;SACnB,OAAO,CAAC,KAAK,EAAE;QACd,IAAI,EAAE,UAAU;KACjB,CAAC;SACD,QAAQ,EAAE;SACV,QAAQ,CAAC;QACR,qBAAqB,EACnB,yFAAyF;QAC3F,cAAc,EAAE,iCAAiC;QACjD,cAAc,EAAE,iCAAiC;KAClD,CAAC;CACL,CAAC,CAAC","sourcesContent":["import Joi from 'joi';\n\n// Min 8 characters, one lower case letter, one uppercase letter, and one number\nconst REGEX = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$/;\n\nexport const loginSchema = Joi.object({\n  email: Joi.string().email().required().messages({\n    'string.email': 'Please enter a valid email address',\n    'any.required': 'Your email must not be empty',\n    'string.empty': 'Your email must not be empty',\n  }),\n  password: Joi.string()\n    .pattern(REGEX, {\n      name: 'password',\n    })\n    .required()\n    .messages({\n      'string.pattern.name':\n        'Your password must have at least eight characters, one uppercase letter, and one number',\n      'any.required': 'Your password must not be empty',\n      'string.empty': 'Your password must not be empty',\n    }),\n});\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"048576537433c3cb41450ac553129465922468d5","contentHash":"cb7027ef076e0e9442409a0907bd86b160c743213f4430eae49449bbb77f987b"},"/home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/Task/taskRoutes.ts":{"path":"/home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/Task/taskRoutes.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"4":{"start":{"line":7,"column":18},"end":{"line":7,"column":53}},"5":{"start":{"line":8,"column":25},"end":{"line":8,"column":73}},"6":{"start":{"line":9,"column":26},"end":{"line":9,"column":76}},"7":{"start":{"line":10,"column":28},"end":{"line":10,"column":65}},"8":{"start":{"line":11,"column":31},"end":{"line":11,"column":74}},"9":{"start":{"line":12,"column":26},"end":{"line":12,"column":59}},"10":{"start":{"line":13,"column":28},"end":{"line":13,"column":65}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":48}},"12":{"start":{"line":15,"column":0},"end":{"line":19,"column":147}},"13":{"start":{"line":16,"column":88},"end":{"line":16,"column":146}},"14":{"start":{"line":17,"column":118},"end":{"line":17,"column":170}},"15":{"start":{"line":18,"column":117},"end":{"line":18,"column":165}},"16":{"start":{"line":19,"column":92},"end":{"line":19,"column":145}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":59},"end":{"line":16,"column":60}},"loc":{"start":{"line":16,"column":88},"end":{"line":16,"column":146}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":17,"column":89},"end":{"line":17,"column":90}},"loc":{"start":{"line":17,"column":118},"end":{"line":17,"column":170}},"line":17},"3":{"name":"(anonymous_3)","decl":{"start":{"line":18,"column":88},"end":{"line":18,"column":89}},"loc":{"start":{"line":18,"column":117},"end":{"line":18,"column":165}},"line":18},"4":{"name":"(anonymous_4)","decl":{"start":{"line":19,"column":63},"end":{"line":19,"column":64}},"loc":{"start":{"line":19,"column":92},"end":{"line":19,"column":145}},"line":19}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"f":{"0":1,"1":0,"2":0,"3":0,"4":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/Task/taskRoutes.ts","sources":["file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/modules/Task/taskRoutes.ts"],"names":[],"mappings":";;;;;;AAAA,sDAA8B;AAC9B,0EAAuE;AACvE,6EAA0E;AAC1E,kEAAoD;AACpD,2EAA6D;AAC7D,4DAA8C;AAC9C,kEAAqD;AAExC,QAAA,UAAU,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAE3C,kBAAU;KACP,GAAG,CAAC,aAAa,EAAE,iCAAe,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,EAAE,CAC/D,gCAAS,CAAC,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CACpC;KACA,IAAI,CAAC,SAAS,EAAE,iCAAe,EAAE,+BAAc,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,EAAE,CAC5E,0BAAM,CAAC,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CACjC;KACA,KAAK,CAAC,OAAO,EAAE,iCAAe,EAAE,+BAAc,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,EAAE,CAC3E,sBAAI,CAAC,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAC/B;KACA,MAAM,CAAC,cAAc,EAAE,iCAAe,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,EAAE,CACnE,2BAAO,CAAC,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAClC,CAAC","sourcesContent":["import express from 'express';\nimport { taskValidation } from '../../middlewares/Task/taskValidation';\nimport { tokenValidation } from '../../middlewares/Token/tokenValidation';\nimport { create } from './Create/CreateIntegration';\nimport { getByUser } from './GetByUser/GetByUserIntegration';\nimport { edit } from './Edit/EditIntegration';\nimport { destroy } from './Delete/DeleteIntegration';\n\nexport const taskRoutes = express.Router();\n\ntaskRoutes\n  .get('/getAll/:id', tokenValidation, async (request, response) =>\n    getByUser.handle(request, response)\n  )\n  .post('/create', tokenValidation, taskValidation, async (request, response) =>\n    create.handle(request, response)\n  )\n  .patch('/edit', tokenValidation, taskValidation, async (request, response) =>\n    edit.handle(request, response)\n  )\n  .delete('/destroy/:id', tokenValidation, async (request, response) =>\n    destroy.handle(request, response)\n  );\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fb154a34a569990906d53e6798daec33d4069e32","contentHash":"931def2ae6ab7271fc84295c4c81bb0c1078037577d800fa851c43de631b530d"},"/home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/Task/taskValidation.ts":{"path":"/home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/Task/taskValidation.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"2":{"start":{"line":4,"column":28},"end":{"line":4,"column":56}},"3":{"start":{"line":5,"column":21},"end":{"line":5,"column":44}},"4":{"start":{"line":7,"column":27},"end":{"line":7,"column":34}},"5":{"start":{"line":8,"column":22},"end":{"line":8,"column":60}},"6":{"start":{"line":9,"column":4},"end":{"line":10,"column":22}},"7":{"start":{"line":10,"column":8},"end":{"line":10,"column":22}},"8":{"start":{"line":11,"column":4},"end":{"line":13,"column":42}},"9":{"start":{"line":15,"column":0},"end":{"line":15,"column":40}}},"fnMap":{"0":{"name":"taskValidation","decl":{"start":{"line":6,"column":9},"end":{"line":6,"column":23}},"loc":{"start":{"line":6,"column":49},"end":{"line":14,"column":1}},"line":6}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":4},"end":{"line":10,"column":22}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":10,"column":22}},{"start":{"line":9,"column":4},"end":{"line":10,"column":22}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1},"f":{"0":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/Task/taskValidation.ts","sources":["file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/Task/taskValidation.ts"],"names":[],"mappings":";;;AACA,yDAAgD;AAChD,6CAA0C;AAE1C,SAAgB,cAAc,CAC5B,OAAgB,EAChB,QAAkB,EAClB,IAAkB;IAElB,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,OAAO,CAAC;IAE/B,MAAM,EAAE,KAAK,EAAE,GAAG,uBAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAE5C,IAAI,CAAC,KAAK;QAAE,OAAO,IAAI,EAAE,CAAC;IAE1B,OAAO,QAAQ;SACZ,MAAM,CAAC,+BAAW,CAAC,WAAW,CAAC;SAC/B,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;AACtC,CAAC;AAdD,wCAcC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport { StatusCodes } from 'http-status-codes';\nimport { taskSchema } from './taskSchema';\n\nexport function taskValidation(\n  request: Request,\n  response: Response,\n  next: NextFunction\n) {\n  const { body: task } = request;\n\n  const { error } = taskSchema.validate(task);\n\n  if (!error) return next();\n\n  return response\n    .status(StatusCodes.BAD_REQUEST)\n    .json({ message: error.message });\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"60db3b37fdbe8ce269ad3d07b8012c312ccb58de","contentHash":"d7414229d473836b1b4a45be63cf47dc92b5791a8baa1cfd3cc4c4e843f67479"},"/home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/Task/taskSchema.ts":{"path":"/home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/Task/taskSchema.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"4":{"start":{"line":7,"column":14},"end":{"line":7,"column":45}},"5":{"start":{"line":8,"column":0},"end":{"line":29,"column":3}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/Task/taskSchema.ts","sources":["file:///home/adrancarnavale/projects/ebytrTodoList/backend/src/middlewares/Task/taskSchema.ts"],"names":[],"mappings":";;;;;;AAAA,8CAAsB;AAET,QAAA,UAAU,GAAG,aAAG,CAAC,MAAM,CAAC;IACnC,EAAE,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC;QACxB,cAAc,EAAE,kCAAkC;KACnD,CAAC;IACF,KAAK,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC;QACrD,YAAY,EAAE,4CAA4C;QAC1D,YAAY,EAAE,4CAA4C;QAC1D,cAAc,EAAE,gCAAgC;QAChD,cAAc,EAAE,gCAAgC;KACjD,CAAC;IACF,WAAW,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC;QAChD,YAAY,EAAE,kDAAkD;QAChE,YAAY,EAAE,iDAAiD;KAChE,CAAC;IACF,MAAM,EAAE,aAAG,CAAC,MAAM,EAAE;SACjB,KAAK,CAAC,SAAS,EAAE,aAAa,EAAE,MAAM,CAAC;SACvC,QAAQ,EAAE;SACV,QAAQ,CAAC;QACR,UAAU,EAAE,iCAAiC;QAC7C,cAAc,EAAE,iCAAiC;KAClD,CAAC;CACL,CAAC,CAAC","sourcesContent":["import Joi from 'joi';\n\nexport const taskSchema = Joi.object({\n  id: Joi.string().messages({\n    'any.required': 'You must provide a valid task id',\n  }),\n  title: Joi.string().min(3).max(36).required().messages({\n    'string.min': 'Your title must have at least 3 characters',\n    'string.max': 'Your title must have at most 36 characters',\n    'string.empty': 'You must provide a valid title',\n    'any.required': 'You must provide a valid title',\n  }),\n  description: Joi.string().min(0).max(36).messages({\n    'string.min': 'Your description must have at least 3 characters',\n    'string.max': 'Your description must have at top 36 characters',\n  }),\n  status: Joi.string()\n    .valid('pending', 'in progress', 'done')\n    .required()\n    .messages({\n      'any.only': 'You must provide a valid status',\n      'any.required': 'You must provide a valid status',\n    }),\n});\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8dbd416f31cf57220809b2ef8a4befde4b11363a","contentHash":"7aed01fdf9a1bc50ad9bc2629c1e0f774d15fef65862c6db0c1d3e9c7fd653fe"}}